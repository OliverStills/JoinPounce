# ─────────────────────────────────────────────
# JoinPounce Environment Variables
# Copy this file to .env and fill in values.
# Never commit .env to version control.
# ─────────────────────────────────────────────

# Database (PostgreSQL on Railway)
DATABASE_URL=postgresql://user:password@host:5432/joinpounce

# Redis (Railway Redis Plugin)
REDIS_URL=redis://default:password@host:6379

# Auth
JWT_SECRET=your-super-secret-jwt-key-change-this
JWT_EXPIRES_IN=7d

# Stripe (Web payments — bypasses Apple 30% cut)
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID_ONETIME=price_...         # $4.99 one-time
STRIPE_PRICE_ID_PRO_MONTHLY=price_...    # $2.99/month
STRIPE_PRICE_ID_PRO_ANNUAL=price_...     # $19.99/year

# Apple IAP (required for in-app purchases on iOS)
APPLE_IAP_SHARED_SECRET=

# Firebase Cloud Messaging (Push Notifications)
FCM_PROJECT_ID=
FCM_PRIVATE_KEY=
FCM_CLIENT_EMAIL=

# Resend (Transactional Email)
RESEND_API_KEY=re_...
EMAIL_FROM=noreply@joinpounce.com

# Sentry (Error Monitoring — catch silent cron failures)
SENTRY_DSN=https://...@sentry.io/...

# PostHog (Analytics — privacy-first)
POSTHOG_API_KEY=phc_...
POSTHOG_HOST=https://app.posthog.com

# Affiliate IDs (fill in after approval)
AMAZON_AFFILIATE_TAG=joinpounce-20        # pending approval
TARGET_AFFILIATE_ID=                      # pending approval via Impact
WALMART_AFFILIATE_ID=                     # pending approval via Impact
BESTBUY_AFFILIATE_ID=                     # pending approval via CJ
WAYFAIR_AFFILIATE_ID=                     # pending approval via CJ

# Retailer APIs (Day 1 supported retailers)
AMAZON_ACCESS_KEY=
AMAZON_SECRET_KEY=
AMAZON_PARTNER_TAG=joinpounce-20
BESTBUY_API_KEY=

# App Config
NEXT_PUBLIC_APP_URL=https://joinpounce.com
API_URL=https://api.joinpounce.com
APP_ENV=production                        # development | staging | production

# Internal API auth (API ↔ worker communication)
INTERNAL_API_SECRET=change-this-internal-secret
